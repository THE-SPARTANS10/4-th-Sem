#include<iostream>
#include<bits/stdc++.h>
using namespace std;
struct Job{
	int id;
	int dead;
	int profit;
};

bool comp(Job a,Job b) /// comparator function for sort the the array according to profit
{
	return (a.profit>b.profit);
}

void Job_Schedule(Job arr[],int n) ///function for schedule the job
{
	sort(arr,arr+n,comp);
	int i,profit=0,maximum=0,j;
	for(i=0;i<n;i++)
	{
		maximum=max(maximum,arr[i].dead); ///maximum is calculate for getting maximum deadline among
	}                                     /// the all jobs
	int slot[maximum+1];
	for(i=0;i<=maximum;i++)
	{
		slot[i]=-1;
	}
	for(i=0;i<n;i++)
	{
		for(j=arr[i].dead;j>0;j--)
		{
			if(slot[j]==-1)
			{
				slot[j]=i;
				profit+=arr[i].profit;
				break;
			}
		}
	}
	for(i=1;i<=maximum;i++)
	{
		if(slot[i]!=-1)
		{
			cout<<arr[slot[i]].id<<" ";
		}
	}
	cout<<"\n";
	
	cout<<"Total profit is"<<"\n";
	cout<<profit;
	
}

int main()
{
	int n;
	cout<<"Enter the number of jobs"<<"\n";
	cin>>n;
	Job arr[n];
	int i;
	cout<<"Enter the id deadline profit of every job"<<"\n";
	
	
	for(i=0;i<n;i++)  /// Take the input of n number of jobs id,dead,profit
	{
		cin>>arr[i].id;
		cin>>arr[i].dead;
		cin>>arr[i].profit;
	}
	
	
	Job_Schedule(arr,n);
}
